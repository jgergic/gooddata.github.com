---
title: MAQL DDL Documentation
layout: documentation
---

<h1 id="modeling_data_with_maql_ddl">Modeling Data with MAQL DDL</h1>

<p><strong>MAQL</strong> (Multidimensional Query Language) is a simple yet powerful query language that provides an underpinning of GoodData&#8217;s reporting capabilities. It&#8217;s extension <strong>MAQL DDL</strong> (MAQL Data Definition Language) is used for building and adapting a data model.</p>

<h1 id="getting_started">Getting Started</h1>

<p>Similar to the core MAQL, DDL syntax is simple and reminiscent of SQL. At it&#8217;s core, there are three most important commands to choose from: <strong>CREATE</strong>, <strong>ALTER</strong> and <strong>DROP</strong>. These commands can be applied to objects forming the data model:</p>

<ul>
    <li>datasets (dataset is one joint source of data and comprises of attributes and facts)</li>
    <li>attributes (attribute is container of data that cannot be added - typically all strings and some numeric columns, like ID or SSN)</li>
    <li>facts (a fact is a data column containing computational data - ie. prices, amounts etc.)</li>
    <li>folders (folders are used to organize attributes and facts visually for users)</li>
    <li>datatypes?</li>
</ul>

<p>You can try the MAQL commands featured here directly in the REST API interface, just go to http://secure.gooddata.com/gdc/&lt;project&gt;/ldm/manage (replacing project with your own project's MD5 hash). It's good to mention as well that you can enter multiple commands into the text field. They will all execute together as part of a transaction and if any of them fails none of them will be applied.</p>

<h1 id="identifiers">Identifiers</h1>

<p>Throughout the MAQL script samples below, words enclosed in {curly brackets} denote <em>identifiers</em>. Think of them as human-readable IDs that you can assign to objects and refer to them in other objects. Once an object is created, the identifier is persistent and cannot be changed. You can choose your own naming conventions for identifiers (in the examples below we often put identifiers into "namespace" by prefixing them with "folder.", "fact." etc.) Identifiers can contain alphanumeric characters, underscore and dot (ie. <code>[A-Za-z0-9_\.]</code>).</p>
<p class="warning"><b>Note:</b> The only exception, where identifier name has to follow certain structure is <em>data column identifiers</em>. These identifiers reference specific data columns in data files that you upload through the upload API. These are structured in <a href="http://en.wikipedia.org/wiki/Third_normal_form">3NF</a>. The identifiers must take form of <code>file.column</code>. The <code>file</code> part corresponds to the data file, while column corresponds to a specific column. All columns that in 3NF share a common file must also share the same prefix in their identifiers. In examples below, <em>data column identifiers</em> are in <i>italics</i>.</p>

<h1 id="synchronize">Synchronize</h1>

<p>Whatever commands you perform, they affect the &#8220;logical data model&#8221; - ie. a formal representation of your data. Underneath this abstraction layer is a &#8220;physical data model&#8221; that GoodData uses to perform computations. After you finish applying your changes through MAQL DDL, if those changes have impacted the physical data model you must call the <code>SYNCHRONIZE</code> command to reflect your changes from logical to physical model. You can think of this as &#8220;preparing&#8221; your changes and then committing them. Visual changes (names, descriptions, membership in folders etc.) don't need to be synchronized to the physical model.</p>

<pre><code>SYNCHRONIZE {dataset.one}, {dataset.two};</code></pre>

<p><strong>WARNING:</strong> Calling <code>SYNCHRONIZE</code> will change the physical storage underneath the project and will empty all data and require you to reload all your data again. Without calling the <code>SYNCHRONIZE</code> command at the end of your changes, you will be left with a <strong>broken</strong> project that won&#8217;t function properly. It is essential that you <code>SYNCHRONIZE</code> whenever you make changes.</p>

<h1 id="dataset">Dataset</h1>

<p>Being a simple named container for attributes and facts, creating and modifying dataset is fairly simple:</p>

<h3 id="create_dataset">CREATE DATASET</h3>

<pre><code>CREATE DATASET {dataset.csv2009 - arbitrary} VISUAL(TITLE "Dataset for csv from 2009");
</code></pre>

<h3 id="alter_dataset">ALTER DATASET</h3>

<ol>
<li><p>add attribute/fact:</p>

<pre><code>ALTER DATASET {a} ADD {probability};
</code></pre></li>
<li><p>remove attribute/fact:</p>

<pre><code>ALTER DATASET {a} DROP {Customer};
</code></pre></li>
<li><p>change the name of the dataset:</p>

<pre><code>ALTER DATASET {a} VISUAL(TITLE "Internal Data");
</code></pre></li>
</ol>

<p><strong>Note:</strong> one attribute or fact should always belong to exactly one dataset (not less, not more). Otherwise the validation of the project will fail.</p>

<h1 id="attribute">Attribute</h1>

<p>An attribute is the unit that allows you to specify how to aggregate (or slice) your data. Examples would include: Assignee, City, Day, ID, Group etc. Attributes can optionally have additional <strong>labels</strong>. There are alternate string representation of the <em>same semantic value</em>. For example a person John Doe is the same person, regardless if they are visualized as &#8220;J. Doe&#8221;, &#8220;Doe, John&#8221;, &#8220;Johnny&#8221; etc. Or &#8220;Jan 10&#8221;, &#8220;January 2010&#8221; and &#8220;01/2010&#8221;.</p>

<h3 id="create_attribute">CREATE ATTRIBUTE</h3>

<pre><code>CREATE ATTRIBUTE {attr.opportunity.category} VISUAL(TITLE "Category of opportunity", FOLDER {folder.opportunity}) AS {tab_cat.col_id};
</code></pre>

<h3 id="alter_attribute">ALTER ATTRIBUTE</h3>

<pre><code>ALTER ATTRIBUTE {a} ADD LABELS {label1} AS {table.column};
</code></pre>

<p><strong>more TBD</strong></p>

<h1 id="fact">Fact</h1>

<h3 id="create_fact">CREATE FACT</h3>

<pre><code>CREATE FACT {fact.opportunity.sales} VISUAL( TITLE "Sales" ) AS {tab_opp.col_sales};
</code></pre>

<h3 id="alter_fact">ALTER FACT</h3>

<pre><code>ALTER FACT {a} ADD {table.column};
</code></pre>

<h1 id="folder">Folder</h1>

<p>Folders are used to visually organize facts or attributes and metrics for the user. Folders are types - ie. they can only contain objects of one kind (hence the TYPE section).</p>

<h3 id="create_folder">CREATE FOLDER</h3>

<pre><code>CREATE FOLDER {folder.one} VISUAL ( TITLE "folder one", DESCRIPTION "some description" ) TYPE ATTRIBUTE
</code></pre>

<h3 id="create_folder">CREATE FOLDER</h3>

<p>Folders are filled during the creation and modification of attributes, metrics and facts - so the only thing that can be changed on the folder itself is it&#8217;s name:</p>

<pre><code>ALTER FOLDER {a} VISUAL(TITLE "folder123");
</code></pre>

<h1 id="not_yet_documented">Not Yet Documented:</h1>

<ol>
<li>KEYWORDS/IDENTIFIERS</li>
<li>DATE data type vs. INCLUDE TEMPLATE GDC:TIME</li>
</ol>
